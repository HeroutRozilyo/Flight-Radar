<Window x:Class="PFlight.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:m="clr-namespace:Microsoft.Maps.MapControl.WPF;assembly=Microsoft.Maps.MapControl.WPF"
        mc:Ignorable="d"
        Title="MainWindow" Height="639" Width="1093" WindowStartupLocation="CenterScreen" MouseDoubleClick="Window_MouseDoubleClick">
    <Window.Resources>
        <SolidColorBrush x:Key="ColorZoneBackground1" Color="#DD000000"/>
        <Style  TargetType="m:Pushpin" x:Key="FromIsrael" >
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Image x:Name="from1" Source="/Icon/fromMap.png" >
                            <Image.LayoutTransform>
                                <TransformGroup>
                                    <ScaleTransform CenterX="0.5" CenterY="0.5"/>
                                    <RotateTransform  Angle="{Binding Angle, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"  />
                                </TransformGroup>
                            </Image.LayoutTransform>
                        </Image>


                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="m:Pushpin" x:Key="ToIsrael">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Image Source="/Icon/ToMap.png" 
                            />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>


        <Style TargetType="m:Pushpin" x:Key="ToIsraelYello">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Image Source="/Icon/Toyellow.png" >

                            <Image.LayoutTransform>
                                <TransformGroup>
                                    <ScaleTransform CenterX="0.5" CenterY="0.5"/>
                                    <RotateTransform  Angle="40"  />
                                </TransformGroup>
                            </Image.LayoutTransform>
                        </Image>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="m:Pushpin" x:Key="fromIsraelYello">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Image Source="/Icon/airplane.png" >

                            <Image.LayoutTransform>
                                <TransformGroup>
                                    <ScaleTransform CenterX="0.5" CenterY="0.5"/>
                                    <RotateTransform  Angle="40"  />
                                </TransformGroup>
                            </Image.LayoutTransform>
                        </Image>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>


    </Window.Resources>



    <Grid Margin="0,0,0,-6">
        <Grid.RowDefinitions>
            <RowDefinition Height="7*"/>
            <RowDefinition Height="4*"/>
        </Grid.RowDefinitions>



        <Label Content="Incoming Flight" Foreground="#FF477B8F"  FontWeight="Bold" HorizontalAlignment="Left" Height="42" Margin="187,107,0,0" FontFamily="Comic Sans MS" VerticalAlignment="Top" Width="152"/>

        <Label Content="Outcoming Flight" FontFamily="Comic Sans MS" HorizontalAlignment="Left" Height="42" Margin="17,107,0,0" VerticalAlignment="Top" Width="152" Foreground="#FF477B8F" FontWeight="Bold"/>
        <!-- <ListBox x:Name="outList" HorizontalAlignment="Left" Height="142" Margin="26,155,0,0" FontFamily="Comic Sans MS" VerticalAlignment="Top" Width="130" ItemsSource="{Binding FlightsOut}" DisplayMemberPath="Destination" MouseDoubleClick="outList_MouseDoubleClick"/>-->

        <StackPanel x:Name="detailsP" HorizontalAlignment="Left" Height="145" Margin="142,313,0,0" VerticalAlignment="Top" Width="161" Grid.RowSpan="2">
            <TextBlock Text="{Binding identification.callsign}" Foreground="#FF477B8F" FontFamily="Comic Sans MS"/>
            <TextBlock Text="{Binding aircraft.registration}" Foreground="#FF477B8F" FontFamily="Comic Sans MS"/>
            <TextBlock Text="{Binding airline.name}" Foreground="#FF477B8F" FontFamily="Comic Sans MS"/>
            <TextBlock Text="{Binding airport.destination.name}"  Foreground="#FF477B8F" FontFamily="Comic Sans MS"/>
            <TextBlock Text="{Binding airport.destination.position.country.name}" Foreground="#FF477B8F" FontFamily="Comic Sans MS"/>
            <TextBlock Text="{Binding airport.origin.name}" FontFamily="Comic Sans MS" Foreground="#FF477B8F"/>
            <TextBlock Text="{Binding airport.origin.position.country.name}" Foreground="#FF477B8F" FontFamily="Comic Sans MS"/>
            <TextBlock Text="{Binding status.text}" Foreground="#FF477B8F" FontFamily="Comic Sans MS"/>
        </StackPanel>
        <StackPanel x:Name="detailsPNName" HorizontalAlignment="Left" Height="145" Margin="11,313,0,0" VerticalAlignment="Top" Width="138" Grid.RowSpan="2">
            <TextBlock Text="Flight code:"  Foreground="#FF477B8F" FontFamily="Comic Sans MS"></TextBlock>
            <TextBlock Text="Flight name:" Foreground="#FF477B8F" FontFamily="Comic Sans MS"></TextBlock>
            <TextBlock Text="Airline:" Foreground="#FF477B8F" FontFamily="Comic Sans MS"></TextBlock>
            <TextBlock Text="Destination:" Foreground="#FF477B8F" FontFamily="Comic Sans MS"></TextBlock>
            <TextBlock Text="Destination country:" Foreground="#FF477B8F" FontFamily="Comic Sans MS"></TextBlock>
            <TextBlock Text="Origin:" Foreground="#FF477B8F" FontFamily="Comic Sans MS"></TextBlock>
            <TextBlock Text="Country of origin:" Foreground="#FF477B8F" FontFamily="Comic Sans MS"></TextBlock>
            <TextBlock Text="Estimated arrival time:" Foreground="#FF477B8F" FontFamily="Comic Sans MS"></TextBlock>
        </StackPanel>


        <Grid x:Name="GridMap" Margin="340,0,-0.333,-0.667" Grid.RowSpan="2">
            <m:Map x:Name="myMap" Center="32.009444, 34.876944" CredentialsProvider="AtJ_2LD-0Gxr9hiKHwkQc5kBc3-9wL38tkucgebtHsCYd1c56byKDhtzIxKbmrPk"
               ZoomLevel="7" AnimationLevel="None" Padding="10" Margin="10,68,0,10" >
                <!--    <m:Pushpin Location="32.009444, 34.876944" ToolTip="Tel Aviv- Ben Gurion"/>-->
            </m:Map>
        </Grid>

        <materialDesign:ColorZone Background="#497b8f"     
  Mode="Inverted"
  Padding="16" Margin="0,0,-0.333,0.333" Grid.RowSpan="2">
            <DockPanel>
                <materialDesign:PopupBox
                    DockPanel.Dock="Right"
      PlacementMode="BottomAndAlignRightEdges">
                    <ListBox>
                        <ListBoxItem
          Content="Hello World" />
                        <ListBoxItem
          Content="Nice Popup" />
                        <ListBoxItem
          Content="Goodbye" />
                    </ListBox>
                </materialDesign:PopupBox>
                <StackPanel
      Orientation="Horizontal">
                    <!-- <ToggleButton
       Style="{StaticResource MaterialDesignHamburgerToggleButton}"
                       
                       /> -->
                    <TextBlock
        VerticalAlignment="Center"
        Margin="16 0 0 0"
                       
        Text="Flight Data" />
                </StackPanel>
            </DockPanel>

        </materialDesign:ColorZone>

        <ListView  ItemsSource="{Binding FlightsOut}" FontFamily="Comic Sans MS" x:Name="outList" Margin="4,98,0,0" SelectionChanged="inlist_SelectionChanged" FontSize="9" Foreground="#FF477B8F" Width="152" Height="146" HorizontalAlignment="Left" VerticalAlignment="Top">
            <ListView.View>
                <GridView>
                    <GridViewColumn Width="50" Header=" ">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <Image Source="/Icon/airplane.png" Width="20" />

                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="65" Header=""
                DisplayMemberBinding="{Binding Destination}"/>
                </GridView>
            </ListView.View>

        </ListView>
        <ListView Name="inList"  HorizontalAlignment="Left"  Margin="169,98,0,0" FontFamily="Comic Sans MS" VerticalAlignment="Top" FontSize="9"  Foreground="#FF477B8F" Width="166" ItemsSource="{Binding FlightsIN}" SelectionChanged="inlist_SelectionChanged" Height="146"  >
            <ListView.View>
                <GridView>
                    <GridViewColumn Width="50" Header=" ">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <Image Source="\Icon\airplaneToIsrael.png" Width="20" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Width="65" Header=""
                DisplayMemberBinding="{Binding Source}"/>
                </GridView>
            </ListView.View>
        </ListView>

        <Grid Margin="0,0,-0.333,0.333" Grid.RowSpan="2">
            <DatePicker Name="dpicker" FontFamily="Comic Sans MS"   SelectedDateChanged="dpicker_SelectedDateChanged"  SelectedDateFormat="Long" DisplayDateStart="1/01/2022" DisplayDateEnd="12/31/2022" HorizontalAlignment="Left" FirstDayOfWeek="Sunday"  Margin="128,10,0,0" VerticalAlignment="Top" Width="201" Height="34" Foreground="White">
                <DatePicker.BorderBrush>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="WhiteSmoke" Offset="0" />
                        <GradientStop Color="PapayaWhip" Offset="1.0" />
                        <GradientStop Color="NavajoWhite" Offset="0.6" />
                    </LinearGradientBrush>
                </DatePicker.BorderBrush>
            </DatePicker>
            <TextBlock x:Name="textday"  HorizontalAlignment="Left" Margin="334,19,0,552" TextWrapping="Wrap" Width="163" RenderTransformOrigin="0.526,-1.632" FontFamily="Comic Sans MS" Foreground="White"/>
            <Button x:Name="weatherButton" Click="weatherButton_Click" Content="Airport Weather" HorizontalAlignment="Left" Margin="91,489,0,0" VerticalAlignment="Top" Width="130"/>

        </Grid>


    </Grid>
</Window>